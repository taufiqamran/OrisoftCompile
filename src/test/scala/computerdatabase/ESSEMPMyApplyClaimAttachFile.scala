package computerdatabase

import scala.concurrent.duration._
import io.gatling.core.Predef._
import io.gatling.http.Predef._
import io.gatling.jdbc.Predef._

import scala.util.matching.Regex

class ESSEMPMyApplyClaimAttachFile extends Simulation {

	val httpProtocol = http
		.baseUrl("https://orisoftst.orisoftsaas.com")
		.disableFollowRedirect



	val uri1 = "https://maps.googleapis.com/maps/api/js"
	val uri3 = "https://fonts.googleapis.com/css"

	val chain_0 = exec(http("Load Login Page Part 1")
		.get("/")
		.check(regex("""<input name="__RequestVerificationToken" type="hidden" value="(.+?)" />""").find.saveAs("__RequestVerificationToken"))
	)
		.exec(http("request_1")
			.get("/Content/css?v=w9USDPGryprQSMA62T1giyRXrtqAIG-BphxyQY0Qw_w1")
			)
		.exec(http("request_2")
			.get("/DXR.axd?r=1_17,0_2214,1_50,1_53,1_51,1_16,0_2219,0_2312,0_2317-4WXkk")
			)
		.exec(http("request_3")
			.get("/DXR.axd?r=1_303,1_210,1_184,1_220,1_187,1_181,1_279,1_292,1_208,1_216,1_212,1_189,1_222,17_42,1_297,1_215,1_207,1_289,1_205,17_7,1_287,1_211,17_23,1_197,17_1-lUXkk")
			)
		.exec(http("request_4")
			.get("/DXR.axd?r=1_58-lUXkk")
			)
		.exec(http("request_5")
			.get("/Content/fonts/icomoon.ttf?5vru0d"))
		.exec(http("request_6")
			.get("/bundles/jquery?v=w1vknpWt6KqlZcHeJQvaK6VbvvXt1Go8HcGH_DqKzzo1")
			)
		.pause(253.milliseconds)
		.exec(http("request_7")
			.get("/Content/Images/bg-login.jpg?V=03"))
		.pause(7)
		.exec(http("Submit Login")
			.post("/")

			.formParam("__RequestVerificationToken", "${__RequestVerificationToken}")
			.formParam("TIMEZONE_OFFSET", "480")
			.formParam("CUSTOMER_CODE$State", "{&quot;rawValue&quot;:&quot;PNT&quot;}")
			.formParam("CUSTOMER_CODE", "PNT")
			.formParam("USERID$State", "{&quot;rawValue&quot;:&quot;KM00562&quot;}")
			.formParam("USERID", "KM00562")
			.formParam("USERPWD$State", "{&quot;rawValue&quot;:&quot;pantai123&quot;}")
			.formParam("USERPWD", "pantai123")
			.formParam("selLanguage_VI", "")
			.formParam("selLanguage", "English")
			.formParam("selLanguage$DDDState", "{&quot;windowsState&quot;:&quot;0:0:-1:0:0:0:-10000:-10000:1:0:0:0&quot;}")
			.formParam("selLanguage$DDD$L$State", "{&quot;CustomCallback&quot;:&quot;&quot;}")
			.formParam("selLanguage$DDD$L", "")
			.formParam("btnSignIn", "Sign In")
			.formParam("DXScript", "1_303,1_210,1_184,1_220,1_187,1_181,1_279,1_292,1_208,1_216,1_212,1_189,1_222,17_42,1_297,1_215,1_207,1_289,1_205,17_7,1_287,1_211,17_23,1_197,17_1")
			.formParam("DXCss", "/Content/css?v=w9USDPGryprQSMA62T1giyRXrtqAIG-BphxyQY0Qw_w1,1_17,0_2214,1_50,1_53,1_51,1_16,0_2219,0_2312,0_2317")
			.formParam("DXMVCEditorsValues", """{"CUSTOMER_CODE":"PNT","USERID":"KM00562","USERPWD":"pantai123","selLanguage_DDD_L":[],"selLanguage":null}""")
			.check(status.is(302)))
		.pause(1)
		.exec(http("request_9")
			.get("/Content/ExecutiveDashboardBundle?v=yudLVP8cmmFF7pYfIl5_OmdH-W3uaCGxdSLyC-jbYQo1")
			)
		.exec(http("request_10")
			.get("/Content/ExecutiveDashboard/ExecutiveDashboardBundle?v=K3bp7bOUCg7jvMi3yCOp8VvRDHaxkZJNkgNJYDsPeIA1")
			)
		.exec(http("Load Dashboard Page")
			.get("/Home/Dashboard")
			)
		.exec(http("request_12")
			.get("/DXR.axd?r=1_58-lUXkk")
			)
		.exec(http("request_13")
			.get("/Content/css/root?v=fQqb8rdb3SX3t_q5clLhrjqLMPJRz5XyrffvnRHeaqY1")
			)
		.exec(http("request_14")
			.get(uri3 + "?family=Open+Sans:300,400,600,700")
			)
		.exec(http("request_15")
			.get(uri3 + "?family=Roboto:400,300,500,700")
			)
		.exec(http("request_16")
			.get("/DXR.axd?r=0_2312,1_50,1_53,1_51,0_2317,1_40,1_17,0_2214,1_16,0_2219,0_2221,0_2225,1_18,1_4,0_2279,6_3,0_2283,0_2186,0_2190,0_2257,18_3,18_11,18_7,0_2261,0_2313,1_34,24_359,24_364,24_360,9_19,9_15,9_12,0_2338,9_1,0_2342,9_4,1_7-WYXkk")
			)
		.exec(http("request_17")
			.get("/DXR.axd?r=1_303,1_210,1_184,1_220,1_187,1_181,1_279,1_292,1_270,1_286,1_289,1_183,17_42,17_3,1_285,1_188,17_8,1_297,1_192,17_10,1_287,1_194,1_193,17_11,1_208,1_216,1_301,1_253,1_234,1_246,1_302,1_221,17_12,1_296,1_295,1_278,17_41,1_189,1_222,1_290,1_288,1_195,1_255,1_262,1_261,1_254,1_251,1_258,1_252,1_260,1_257,1_256,1_247,1_243,1_241,1_250,1_249,1_248,1_245,1_244,1_259,1_240,1_237,1_238,1_239,1_242,17_15,17_17,1_271,1_272,17_19,1_273,1_274,17_20,17_21,1_223,17_14,1_276,17_24,17_28,1_280,17_25,1_293,17_27,1_291,1_294,17_32,1_298,17_36,17_40,1_197,17_1,1_207,1_235,17_16,6_18,6_16,6_15,6_14,6_17,17_39,1_212,1_196,17_0,1_198,17_2,1_199,17_4,1_200,1_201,1_202,1_204,1_218,1_205,17_7,1_211,17_23,1_206,17_9,1_275,1_214,1_215,17_22,1_213,1_217,17_38,1_219,1_232,1_233,1_231,17_5,1_191,1_284,18_36,18_38,18_33,18_42,18_37,18_35,17_31,1_203,1_283,9_54,9_55,24_379,24_389,9_57,9_56,17_44,9_45,9_47,9_46,17_30,9_51,9_48,9_31,17_29,9_50,9_41,9_53,9_52,9_49-WYXkk&p=b691a7d7")
			)
		.exec(http("request_18")
			.get("/Scripts/ExecutiveDashboardBundle/SideMenu?v=wmt4mX4cYH0d844GQc8r_NWCLWWdnZ_egKD54y34J2U1")
			)
		.exec(http("request_19")
			.get("/bundles/bootstrap?v=2Fz3B0iizV2NnnamQFrx-NbYJNTFeBJ2GM05SilbtQU1")
			)
		.exec(http("request_20")
			.get("/Scripts/ExecutiveDashboardBundle?v=DMMQIR-OxHUTpie3SbH9hPNfqqge6hNdl_5G39s54KA1")
			)
		.exec(http("request_21")
			.get("/bundles/jquery?v=w1vknpWt6KqlZcHeJQvaK6VbvvXt1Go8HcGH_DqKzzo1")
			)
		.exec(http("request_22")
			.get("/Scripts/MasterDevExBundle?v=yx5tJIYhtWXcJGGiFMJ_bRJ0-eldYrvLrqRE_KNFrnI1")
			)
		.exec(http("request_23")
			.get("/signalr/hubs")
			)
		.exec(http("request_24")
			.get("/Content/fonts/icomoon.ttf?5vru0d")
			)
		.exec(http("request_25")
			.get("/Content/css/dashboard?v=K9QTZqM85yMd9U6HphxfFJh4UfmNZDGAQzYRDkSO0Ag1")
			)
		.exec(http("request_26")
			.get("/Content/Images/unifiedhcms_logo.png?V=01")
			)
		.exec(http("request_27")
			.get(uri1 + "?key=AIzaSyDu3r6sgbYDPJTjUH9Dun7RSWAyB5aQi8A")
			)
		.exec(http("request_28")
			.get("/Scripts/DashboardBundle?v=WY1VznvjMVd1sZ3iA0_50uXWdghvrokz5z8YVHVzkus1")
			)
		.exec(http("request_29")
			.get("/profile_picture.ashx?EmployeeID=9126")
			)
		.exec(http("request_30")
			.get("/Scripts/RootBundle?v=Z5MJwH8Xi0bCONWdJcmOtX_Ca81BpX4JptdIbZb919g1")
			)
		.pause(106.milliseconds)
		.exec(http("request_31")
			.get("/PayrollProcess/ProcessControlPanel")

			.check(status.is(302)))
		.exec(http("request_32")
			.get("/SalaryAdvanceProcess/ProcessControlPanel")

			.check(status.is(302)))
		.pause(456.milliseconds)
		.exec(http("request_33")
			.get("/DXR.axd?r=0_2303-4WXkk")
			)
		.exec(http("request_34")
			.get("/Account/Login")

			.check(status.is(302)))
		.exec(http("request_35")
			.get("/Account/Login")

			.check(status.is(302)))
		.exec(http("request_36")
			.get("/Notifications/GetNotificationCounts")
			)
		.exec(http("request_37")
			.get("/Notifications/GetNotificationUserId")
			)
		.exec(http("request_38")
			.get("/signalr/negotiate?clientProtocol=2.1&userid=KM00562&connectionData=%5B%7B%22name%22%3A%22notificationhub%22%7D%5D&_=1620095732198")
			)
		.exec(http("request_39")
			.get("/Home/Dashboard")
			)
		.pause(1)
		.exec(http("request_40")
			.get("/signalr/start?transport=webSockets&clientProtocol=2.1&userid=KM00562&connectionToken=oJjvGiL25pMvgoW%2BBUFZxAXmp%2Bc6Szx66ooMMBe3KqktB6Rfe78sr7mmoIfPdE8hFI8Athk58my8RSQAzb93r37VUtE1U1j7G0ePJ1D9yxFudWJ3ffP86OMc%2Fp3H8%2Buo5GQvVERnuXZ2WxbccLBaCcg%2F%2B81cKh9Gc3pVu6aEvKg%3D&connectionData=%5B%7B%22name%22%3A%22notificationhub%22%7D%5D&_=1620095732199")
			)
		.exec(http("request_41")
			.get("/Home/Dashboard")
			)
		.exec(http("request_42")
			.get("/Home/DashboardWidgetPartial")
			)
		.exec(http("request_43")
			.get("/profile_picture.ashx?EmployeeID=9126")
			)
		.pause(207.milliseconds)
		.exec(http("request_44")
			.get("/DXR.axd?r=0_2223-4WXkk")
			)
		.pause(238.milliseconds)
		.exec(http("request_45")
			.get("/profile_picture.ashx?EmployeeID=9126")
			)
		.pause(127.milliseconds)
		.exec(http("request_46")
			.post("/GetLeaveJson")

			.formParam("leaveType", "1")
			.formParam("nShowSubord", "1")
			.formParam("nShowSubordInd", "0")
			.formParam("dateFrom", "2021-04-25")
			.formParam("dateTo", "2021-06-06")
			.formParam("start", "2021-04-25")
			.formParam("end", "2021-06-06"))
		.exec(http("request_47")
			.post("/GetLeaveJson")

			.formParam("leaveType", "2")
			.formParam("nShowSubord", "1")
			.formParam("nShowSubordInd", "0")
			.formParam("dateFrom", "2021-04-25")
			.formParam("dateTo", "2021-06-06")
			.formParam("start", "2021-04-25")
			.formParam("end", "2021-06-06"))
		.exec(http("request_48")
			.post("/GetLeaveJson")

			.formParam("leaveType", "0")
			.formParam("nShowSubord", "1")
			.formParam("nShowSubordInd", "0")
			.formParam("dateFrom", "2021-04-25")
			.formParam("dateTo", "2021-06-06")
			.formParam("start", "2021-04-25")
			.formParam("end", "2021-06-06"))
		.exec(http("request_49")
			.post("/GetHolidayJson")

			.formParam("dateFrom", "2021-04-25")
			.formParam("dateTo", "2021-06-06")
			.formParam("start", "2021-04-25")
			.formParam("end", "2021-06-06"))
		.pause(416.milliseconds)
		.exec(http("request_50")
			.get(uri1 + "/AuthenticationService.Authenticate?1shttps%3A%2F%2Forisoftst.orisoftsaas.com%2FHome%2FDashboard&4sAIzaSyDu3r6sgbYDPJTjUH9Dun7RSWAyB5aQi8A&callback=_xdc_._vo75l9&key=AIzaSyDu3r6sgbYDPJTjUH9Dun7RSWAyB5aQi8A&token=23305")
			)
		.pause(291.milliseconds)
		.exec(http("request_51")
			.get("/profile_picture.ashx?EmployeeID=9126")
			)
		.exec(http("request_52")
			.get("/GlobalLeaveApplication/GlobalLeaveApplicationCriteria")
			)
		.pause(4)


		.exec(http("Load Claim Form Page")
			.get("/Claim/ClaimApplication")
			.check(css("input[name='cbRequestor_VI']", "value").saveAs("empID"))

			.check(bodyString.saveAs("CFBody"))
		)
		.pause(112.milliseconds)
		.exec(http("request_1")
			.get("/Content/css/root?v=fQqb8rdb3SX3t_q5clLhrjqLMPJRz5XyrffvnRHeaqY1")
			)
		.exec(http("request_2")
			.get("/DXR.axd?r=0_2312,1_50,1_53,1_51,0_2317,1_40,1_17,0_2214,1_16,0_2219,0_2221,0_2225,1_18,1_4,0_2279,6_3,0_2283,0_2186,0_2190,0_2257,18_3,18_11,18_7,0_2261,0_2313,1_34,24_359,24_364,24_360,9_19,9_15,9_12,0_2338,9_1,0_2342,9_4,1_7-O3Vxm")
			)
		.exec(http("request_3")
			.get("/Content/ExecutiveDashboard/ExecutiveDashboardBundle?v=K3bp7bOUCg7jvMi3yCOp8VvRDHaxkZJNkgNJYDsPeIA1")
			)
		.exec(http("request_4")
			.get("/Content/ExecutiveDashboardBundle?v=yudLVP8cmmFF7pYfIl5_OmdH-W3uaCGxdSLyC-jbYQo1")
			)
		.exec(http("request_5")
			.get("/bundles/jquery?v=_pxGe3mY2bQf-xjm4AiFp6ZjEyA5oTa8PuEQsuJbzEk1")
			)
		.exec(http("request_6")
			.get("/Scripts/ExecutiveDashboardBundle?v=hjG6uA4G8jx4L1ddHEH1O9rf3Ul4d41_HZHzUxDR9k41")
			)
		.exec(http("request_7")
			.get("/DXR.axd?r=1_303,1_210,1_184,1_220,1_187,1_181,1_279,1_292,1_270,1_286,1_289,1_183,17_42,17_3,1_285,1_188,17_8,1_297,1_192,17_10,1_287,1_194,1_193,17_11,1_208,1_216,1_301,1_253,1_234,1_246,1_302,1_221,17_12,1_296,1_295,1_278,17_41,1_189,1_222,1_290,1_288,1_195,1_255,1_262,1_261,1_254,1_251,1_258,1_252,1_260,1_257,1_256,1_247,1_243,1_241,1_250,1_249,1_248,1_245,1_244,1_259,1_240,1_237,1_238,1_239,1_242,17_15,17_17,1_271,1_272,17_19,1_273,1_274,17_20,17_21,1_223,17_14,1_276,17_24,17_28,1_280,17_25,1_293,17_27,1_291,1_294,17_32,1_298,17_36,17_40,1_197,17_1,1_207,1_235,17_16,6_18,6_16,6_15,6_14,6_17,17_39,1_212,1_196,17_0,1_198,17_2,1_199,17_4,1_200,1_201,1_202,1_204,1_218,1_205,17_7,1_211,17_23,1_206,17_9,1_275,1_214,1_215,17_22,1_213,1_217,17_38,1_219,1_232,1_233,1_231,17_5,1_191,1_284,18_36,18_38,18_33,18_42,18_37,18_35,17_31,1_203,1_283,9_54,9_55,24_379,24_389,9_57,9_56,17_44,9_45,9_47,9_46,17_30,9_51,9_48,9_31,17_29,9_50,9_41,9_53,9_52,9_49-O3Vxm&p=b691a7d7")
			)
		.exec(http("request_8")
			.get("/Scripts/ExecutiveDashboardBundle/SideMenu?v=wmt4mX4cYH0d844GQc8r_NWCLWWdnZ_egKD54y34J2U1")
			)
		.exec(http("request_9")
			.get("/bundles/bootstrap?v=2Fz3B0iizV2NnnamQFrx-NbYJNTFeBJ2GM05SilbtQU1")
			)
		.exec(http("request_10")
			.get("/Content/Images/unifiedhcms_logo.png?V=01")
			)
		.exec(http("request_11")
			.get("/DXR.axd?r=1_58-N3Vxm")
			)
		.exec(http("request_12")
			.get("/profile_picture.ashx?EmployeeID=9126")
			)
		.exec(http("request_13")
			.get("/Scripts/MasterDevExBundle?v=0Nfn5KbcdrNt5eTp8R1rjNA5IlQgPjvDQ2MUmQSG31o1")
			)
		.exec(http("request_14")
			.get(uri3 + "?family=Open+Sans:300,400,600,700")
			)
		.exec(http("request_15")
			.get(uri3 + "?family=Roboto:400,300,500,700")
			)
		.exec(http("request_16")
			.get("/signalr/hubs")
			)
		.pause(166.milliseconds)
		.exec(http("request_17")
			.get("/Content/fonts/icomoon.ttf?5vru0d")
			)
		.pause(2)
		.exec(http("request_18")
			.get(uri1 + "?key=AIzaSyDu3r6sgbYDPJTjUH9Dun7RSWAyB5aQi8A")
			)
		.exec(http("request_19")
			.get("/Scripts/RootBundle?v=Z5MJwH8Xi0bCONWdJcmOtX_Ca81BpX4JptdIbZb919g1")
			)
		.pause(345.milliseconds)
		.exec(http("request_20")
			.get("/DXR.axd?r=0_2223-O3Vxm")
			)
		.exec(http("request_21")
			.get("/fonts/fontawesome-webfont.woff2?v=4.7.0")
			)
		.pause(492.milliseconds)
		.exec(http("request_22")
			.get("/Account/VerifyAccess")
			)
		.exec(http("request_23")
			.get("/DXR.axd?r=0_2303-O3Vxm")
			)
		.exec(http("request_24")
			.get("/Claim/ClaimApplicationGridViewRowPartial?EmployeeId=9126&NewFlag=true")

			.check(css("input[class='idfield']", "data-idstring").saveAs("idStr"))
		)


		.pause(377.milliseconds)
		.exec(http("request_25")
			.get("/Notifications/GetNotificationCounts")
			)
		.exec(http("request_26")
			.get("/DXR.axd?r=0_2216-O3Vxm")
			)
		.exec(http("request_27")
			.get("/Notifications/GetNotificationUserId")
			)
		.exec(http("request_28")
			.get("/signalr/negotiate?clientProtocol=2.1&userid=KM00562&connectionData=%5B%7B%22name%22%3A%22notificationhub%22%7D%5D&_=1621487513401")
			)
		.pause(814.milliseconds)
		.exec(http("request_29")
			.get("/signalr/start?transport=webSockets&clientProtocol=2.1&userid=KM00562&connectionToken=Q%2FmQUx9WS4iRezZtVE6Ioybe45C5DYXGswPnMb6bmbZoXhNXd3IVu%2FGuQFMcM3myAIThicRvaZUoFxsiPwy97pGpKd2aDuIUrSdFjf49aBhAvkFcKh%2Bk1hcbrd7C9nLCeQQNZw8kjukaRh5me5%2FzNUnvQwKtJ%2FZnpPngEchJY1E%3D&connectionData=%5B%7B%22name%22%3A%22notificationhub%22%7D%5D&_=1621487513402")
			)
		.pause(2)
		.exec(http("request_30")
			.get(uri1 + "/AuthenticationService.Authenticate?1shttps%3A%2F%2Forisoftst.orisoftsaas.com%2FClaim%2FClaimApplication&4sAIzaSyDu3r6sgbYDPJTjUH9Dun7RSWAyB5aQi8A&callback=_xdc_._hxvtll&key=AIzaSyDu3r6sgbYDPJTjUH9Dun7RSWAyB5aQi8A&token=28745")
			)
		.pause(2)
		.exec(http("request_31")
			.post("/Account/VerifyAccess")
			)
		.exec(http("Choosing End Date")
			.post("/Claim/ClaimApplicationGridViewRowPartial")

			.formParam("EmployeeId", "${empID}")
			.formParam("FromDate", "2021/05/20")
			.formParam("objTrans[ID]", "0")
			.formParam("objTrans[AgentID]", "")
			.formParam("objTrans[IdString]", "${idStr}")
			.formParam("objTrans[ROWVERSION]", "")
			.formParam("objTrans[FROM_DATE]", "2021/05/20")
			.formParam("objTrans[TO_DATE]", "2021/05/21")
			.formParam("objTrans[CLAIM_CODE]", "")
			.formParam("objTrans[CURRENCY_CODE]", "MYR")
			.formParam("objTrans[EXCHANGE_RATE]", "1")
			.formParam("objTrans[CURRENCY_AMOUNT]", "0")
			.formParam("objTrans[CLAIM_AMOUNT]", "0")
			.formParam("objTrans[invoice_flag]", "0")
			.formParam("objTrans[claim_sub_code]", "")
			.formParam("objTrans[invoice_date]", "")
			.formParam("objTrans[employee_id]", "${empID}")
			.formParam("objTrans[CATEGORY_CODE]", "")
			.formParam("NewFlag", "false")
			.formParam("ReloadClaimType", "true"))
		.pause(3)
		.exec(http("request_33")
			.post("/Account/VerifyAccess")
			)
		.exec(http("Choosing Claim Type")
			.post("/Claim/ClaimApplicationGridViewRowPartial")

			.formParam("EmployeeId", "${empID}")
			.formParam("FromDate", "2021/05/20")
			.formParam("objTrans[ID]", "0")
			.formParam("objTrans[AgentID]", "")
			.formParam("objTrans[IdString]", "${idStr}")
			.formParam("objTrans[ROWVERSION]", "")
			.formParam("objTrans[FROM_DATE]", "2021/05/20")
			.formParam("objTrans[TO_DATE]", "2021/05/21")
			.formParam("objTrans[CLAIM_CODE]", "ZMO4")
			.formParam("objTrans[CURRENCY_CODE]", "MYR")
			.formParam("objTrans[EXCHANGE_RATE]", "1")
			.formParam("objTrans[CURRENCY_AMOUNT]", "")
			.formParam("objTrans[CLAIM_AMOUNT]", "0")
			.formParam("objTrans[invoice_flag]", "0")
			.formParam("objTrans[claim_sub_code]", "")
			.formParam("objTrans[invoice_date]", "")
			.formParam("objTrans[employee_id]", "${empID}")
			.formParam("objTrans[CATEGORY_CODE]", "")
			.formParam("NewFlag", "false")
			.formParam("ReloadClaimType", "true"))
		.pause(2)
		.exec(http("request_35")
			.post("/Account/VerifyAccess")
			)
		.exec(http("Choosing Claim Sub-Type")
			.post("/Claim/DeleteTempAttachmentTable")

			.formParam("objTrans[ID]", "0")
			.formParam("objTrans[AgentID]", "")
			.formParam("objTrans[IdString]", "${idStr}")
			.formParam("objTrans[ROWVERSION]", "")
			.formParam("objTrans[FROM_DATE]", "2021/05/20")
			.formParam("objTrans[TO_DATE]", "2021/05/21")
			.formParam("objTrans[CLAIM_CODE]", "ZMO4")
			.formParam("objTrans[CURRENCY_CODE]", "MYR")
			.formParam("objTrans[EXCHANGE_RATE]", "1")
			.formParam("objTrans[CURRENCY_AMOUNT]", "")
			.formParam("objTrans[CLAIM_AMOUNT]", "0")
			.formParam("objTrans[REMARKS]", "")
			.formParam("objTrans[invoice_no]", "")
			.formParam("objTrans[invoice_flag]", "0")
			.formParam("objTrans[claim_sub_code]", "ZMOI")
			.formParam("objTrans[invoice_date]", "")
			.formParam("objTrans[employee_id]", "${empID}")
			.formParam("objTrans[CATEGORY_CODE]", ""))
		.exec(http("request_37")
			.post("/Account/VerifyAccess")
			)
		.exec(http("Get the Employee Budget Limit")
			.post("/Claim/GetEmployeeBudgetLimit")

			.formParam("model[ID]", "0")
			.formParam("model[AgentID]", "")
			.formParam("model[IdString]", "${idStr}")
			.formParam("model[ROWVERSION]", "")
			.formParam("model[FROM_DATE]", "2021/05/20")
			.formParam("model[TO_DATE]", "2021/05/21")
			.formParam("model[CLAIM_CODE]", "ZMO4")
			.formParam("model[CURRENCY_CODE]", "MYR")
			.formParam("model[EXCHANGE_RATE]", "1")
			.formParam("model[CURRENCY_AMOUNT]", "")
			.formParam("model[CLAIM_AMOUNT]", "0")
			.formParam("model[REMARKS]", "")
			.formParam("model[invoice_no]", "")
			.formParam("model[invoice_flag]", "0")
			.formParam("model[claim_sub_code]", "ZMOI")
			.formParam("model[invoice_date]", "")
			.formParam("model[employee_id]", "${empID}")
			.formParam("model[CATEGORY_CODE]", ""))
		.pause(4)
		.exec(http("request_39")
			.get("/DXR.axd?r=0_2314-O3Vxm")
			)



		.exec(session => {
			val empID = session("empID").as[String]
			val idString = session("idStr").as[String]
			val body = session("CFBody").as[String]
			val value = new Regex("'uploadingKey':'(.+?)'")
			val settingRegex = new Regex("'settings':'(.+?)'")
			val uploadKey = ((value.findAllIn(body)).mkString(",")).split(":")(1).replace("\'","")
			val settingValue = ((settingRegex.findAllIn(body)).mkString(",")).split(":")(1).replace("\'","")

			println(s"Body: $body")
			println(s"Upload key: $uploadKey")
			println(s"Setting: $settingValue")

			session.set("uploadKey",uploadKey).set("settingValue",settingValue)
		})

		.pause(14)
		.exec(http("Upload File Part 1")
			.post("/ASPxUploadProgressHandlerPage.ashx")
			.queryParam("DXProgressHandlerKey","${uploadKey}")
			.queryParam("DXHelperUploadingCallback","uploadControl")
			.formParamMap(Map(
				"IsNewUploading" -> "true",
				"Settings" -> "${settingValue}",
				"State" -> "",
				"TotalSize" -> "33480",
				"FileIndex" -> "0",
				"FileSize" -> "33480",
				"FileType" -> "image/png",
				"ChunkSize" -> "33480",
				"FileName" -> "Redirect.PNG"))
			.bodyPart(RawFileBodyPart("uploadControl_TextBoxT_Input", "data/Redirect.PNG")
				.fileName("Redirect.PNG")
				.transferEncoding("binary")).asMultipartForm
			.check(bodyString.saveAs("upload1(1)"))
		)
		.exec(session => {

			val bodyRedirect = session("upload1(1)").as[String]
			val settingRegex = new Regex("state=\"(.+?)\"")
			val uploadKey2 = (settingRegex.findAllIn(bodyRedirect).mkString).split("=")(1).replace("\"","")

			println(s"ID : $uploadKey2")

			session.set("state",uploadKey2)
		})

		.exec(http("Upload File Part 2")
			.post("/Claim/UploadInboundFiles")
			.queryParam("DXProgressHandlerKey","${uploadKey}")

			.queryParam("DXHelperUploadingCallback","uploadControl")
			.queryParam("DXMVC","true")
			.formParam("uploadControl","{&quot;inputCount&quot;:1,&quot;finState&quot;:{&quot;settings&quot;:&quot;${settingValue}&quot;,&quot;state&quot;:&quot;${state};}}")
			.bodyPart(RawFileBodyPart("uploadControl_TextBoxT_Input", "data/Redirect.PNG")
				.fileName("Redirect.PNG")
				.transferEncoding("binary")).asMultipartForm
			.formParam("DXScript","1_303,1_210,1_184,1_220,1_187,1_181,1_279,1_292,1_270,1_286,1_289,1_183,17_42,17_3,1_285,1_188,17_8,1_297,1_192,17_10,1_287,1_194,1_193,17_11,1_208,1_216,1_301,1_253,1_234,1_246,1_302,1_221,17_12,1_296,1_295,1_278,17_41,1_189,1_222,1_290,1_288,1_195,1_255,1_262,1_261,1_254,1_251,1_258,1_252,1_260,1_257,1_256,1_247,1_243,1_241,1_250,1_249,1_248,1_245,1_244,1_259,1_240,1_237,1_238,1_239,1_242,17_15,17_17,1_271,1_272,17_19,1_273,1_274,17_20,17_21,1_223,17_14,1_276,17_24,17_28,1_280,17_25,1_293,17_27,1_291,1_294,17_32,1_298,17_36,17_40,1_197,17_1,1_207,1_235,17_16,6_18,6_16,6_15,6_14,6_17,17_39,1_212,1_196,17_0,1_198,17_2,1_199,17_4,1_200,1_201,1_202,1_204,1_218,1_205,17_7,1_211,17_23,1_206,17_9,1_275,1_214,1_215,17_22,1_213,1_217,17_38,1_219,1_232,1_233,1_231,17_5,1_191,1_284,18_36,18_38,18_33,18_42,18_37,18_35,17_31,1_203,1_283,9_54,9_55,24_379,24_389,9_57,9_56,17_44,9_45,9_47,9_46,17_30,9_51,9_48,9_31,17_29,9_50,9_41,9_53,9_52,9_49")
			.formParam("DXCss","/Content/css/root?v=fQqb8rdb3SX3t_q5clLhrjqLMPJRz5XyrffvnRHeaqY1,0_2312,1_50,1_53,1_51,0_2317,1_40,1_17,0_2214,1_16,0_2219,0_2221,0_2225,1_18,1_4,0_2279,6_3,0_2283,0_2186,0_2190,0_2257,18_3,18_11,18_7,0_2261,0_2313,1_34,24_359,24_364,24_360,9_19,9_15,9_12,0_2338,9_1,0_2342,9_4,1_7,/Content/ExecutiveDashboard/ExecutiveDashboardBundle?v=K3bp7bOUCg7jvMi3yCOp8VvRDHaxkZJNkgNJYDsPeIA1,/Content/ExecutiveDashboardBundle?v=yudLVP8cmmFF7pYfIl5_OmdH-W3uaCGxdSLyC-jbYQo1,/Content/notifications.css,/Content/Claim.css")
			.formParam("uploadControl_DXMVCUploadControl","")

			.check(bodyString.saveAs("upload1(2)"))
		)




		.exec(http("request_42")
			.post("/Account/VerifyAccess")
			)
		.exec(http("request_43")
			.post("/Claim/ClaimApplicationDocPartial")

			.formParam("model[TEMP_GUID]", "${idStr}"))
		.exec(http("request_44")
			.post("/Account/VerifyAccess")
			)
		.exec(http("request_45")
			.post("/Claim/ClaimApplicationDocGridViewPartial")

			.formParam("AgentID", "0")
			.formParam("GridViewName", "gvESSDocumentManager${idStr}")
			.formParam("Temp_guid", "${idStr}")
			.formParam("PARENT_ID", "0")
			.check(bodyString.saveAs("Body Upload 1"))
		)
		.pause(16)

		.exec(session => {
			val empID = session("empID").as[String]
			val idString = session("idStr").as[String]
			val body2 = session("CFBody").as[String]
			val value = new Regex("'uploadingKey':'(.+?)'")
			val settingRegex = new Regex("'settings':'(.+?)'")
			val uploadKey2 = ((value.findAllIn(body2)).mkString(",")).split(":")(1).replace("\'","")
			val settingValue2 = ((settingRegex.findAllIn(body2)).mkString(",")).split(":")(1).replace("\'","")
			val bodyRedirect = session("Body Upload 1").as[String]
			val huhu = session("upload1(1)").as[String]
			val haha = session("upload1(2)").as[String]
			println(s"Return : $huhu")
			println(s"Return : $haha")
			println(s"Body Redirect : $bodyRedirect")
			println(s"Id: $idString")
			//println(s"Upload key: $uploadKey2")
			//println(s"Setting: $settingValue2")


			session.set("uploadKey2",uploadKey2).set("settingValue2",settingValue2)
		})
		/*
		.exec(http("Upload File Part 1")
			.post("/ASPxUploadProgressHandlerPage.ashx")
			.queryParam("DXProgressHandlerKey","${uploadKey2}")
			.queryParam("DXHelperUploadingCallback","uploadControl")

			.bodyPart(RawFileBodyPart("file", "data/Redirect.PNG")
				.fileName("Redirect.PNG")
				.transferEncoding("binary")).asMultipartForm
			.check(bodyString.saveAs("upload2(1)"))
		)

		.exec(http("Upload File Part 2")
			.post("/Claim/UploadInboundFiles")
			.queryParam("DXProgressHandlerKey","${uploadKey2}")
			.queryParam("DXHelperUploadingCallback","uploadControl")
			.queryParam("DXMVC","true")
			.bodyPart(RawFileBodyPart("file", "data/Redirect.PNG")
				.fileName("Redirect.PNG")
				.transferEncoding("binary")).asMultipartForm
			.check(bodyString.saveAs("upload2(2)"))
		)






		.exec(http("request_48")
			.post("/Account/VerifyAccess")
			)
		.exec(http("request_49")
			.post("/Claim/ClaimApplicationDocPartial")

			.formParam("model[TEMP_GUID]", "47017749-97a0-49d4-b106-d4634009a43e"))
		.exec(http("request_50")
			.post("/Account/VerifyAccess")
			)


		.exec(http("request_51")
			.post("/Claim/ClaimApplicationDocGridViewPartial")

			.formParam("AgentID", "0")
			.formParam("GridViewName", "gvESSDocumentManager")
			.formParam("Temp_guid", "47017749-97a0-49d4-b106-d4634009a43e")
			.formParam("PARENT_ID", "0")
			.check(bodyString.saveAs("Body Upload 2"))
		)
		.pause(17)
		.exec(http("request_52")
			.post("/Account/VerifyAccess")
			)
		.exec(http("Submit the Claim Form")
			.post("/Claim/BatchUpdateClaimApplication")

			.formParam("id", "0")
			.formParam("agentID", "0")
			.formParam("userid", "0")
			.formParam("interid", "0")
			.formParam("monitorid", "0")
			.formParam("wfstatus", "")
			.formParam("Remarks", "test3")
			.formParam("updateValues[0][ID]", "0")
			.formParam("updateValues[0][AgentID]", "")
			.formParam("updateValues[0][IdString]", "${idStr}")
			.formParam("updateValues[0][ROWVERSION]", "")
			.formParam("updateValues[0][FROM_DATE]", "2021/05/20")
			.formParam("updateValues[0][TO_DATE]", "2021/05/21")
			.formParam("updateValues[0][CLAIM_CODE]", "ZMO4")
			.formParam("updateValues[0][CURRENCY_CODE]", "MYR")
			.formParam("updateValues[0][EXCHANGE_RATE]", "1")
			.formParam("updateValues[0][CURRENCY_AMOUNT]", "10")
			.formParam("updateValues[0][CLAIM_AMOUNT]", "10")
			.formParam("updateValues[0][REMARKS]", "")
			.formParam("updateValues[0][invoice_no]", "")
			.formParam("updateValues[0][invoice_flag]", "0")
			.formParam("updateValues[0][claim_sub_code]", "ZMOI")
			.formParam("updateValues[0][invoice_date]", "")
			.formParam("updateValues[0][employee_id]", "${empID}")
			.formParam("updateValues[0][CATEGORY_CODE]", "")
			.formParam("RequestorID", "${empID}")
			.formParam("actiontype", "")
			.formParam("WorkflowRemarks", "")
			.formParam("objModel", "")
			.formParam("AttachmentList[0][ID]", "2481")
			.formParam("AttachmentList[0][FLAG]", "New")
			.formParam("AttachmentList[1][ID]", "2480")
			.formParam("AttachmentList[1][PARENT_GUID]", "${idStr}")
			.formParam("AttachmentList[1][FLAG]", "New")
			.formParam("ReferenceRequestorID", "")
			.formParam("Draft", "false"))
		.pause(2)

		.exec(http("Load My Workflow Page ")
			.get("/works/request_lst.aspx")
			.check(css("input[name='__VIEWSTATE']", "value").saveAs("viewStateCL2"))
		)
		.pause(107.milliseconds)
		.exec(http("request_55")
			.get("/WebResource.axd?d=pynGkmcFUV13He1Qd6_TZOYXOnLy43dRx8HCf3vqtm7Uk9Dd5QTT0bKPZkChPJpkGd7et7925jgqVFYijtH4BlZm86YPMFKavMb3jiNdHO_DkODjc9ASxqTpYjlOyMlE0&t=637505973787431984")
			)
		.exec(http("request_56")
			.get("/ScriptResource.axd?d=P5lTttoqSeZXoYRLQMIScIf12FcrWAiNVtlJxQA9qnTW6iJpMmht7uXNg23QNwOPVke9qF6NTd062q-kq39p4MmkxhZ1ti3ckmNVSJHDik9HIeiTEBJ8AeazBYyjXlRbQWV2Q8-MBT7ldJqGwC6gtX5XcIt2Wd4nEFDQxuD-poI1&t=51e37521")
			)
		.exec(http("request_57")
			.get("/ScriptResource.axd?d=XGoPW3Unw0ILT0eb9sSUayB1PCvz0eeMXm23ajXUnLKSVWvpEIM7qNdgqQtwIk3oGSO-umSPRJr1BQNhALudg4-gDqI9ltlNkOQMrPf4fNHBEAhja6GHf4He4_YSEbkQ4L1Bsn1aV_AF11ks4fQlTNxlg6tYk_UGpXjfNcFSD6D49VS2gjNTnElk4fHlLsM90&t=51e37521")
			)
		.exec(http("request_58")
			.get("/ScriptResource.axd?d=uvA9ANM76Fbpm1FfUlagnYp2obqkhmwI_C-NoQ89dB6TwrO7THFVAk1nHl1QRi68J_pozjXYUJHgZb6l02O3dvVqjaOzdIW44mTvv4FyAQ5MvnVeKZmB7OtG9BNkATLGOGWXvK2djBpsGpZ_x3Mi2KdwGSD0SZeW5VvD940G1Y8Cml0nm6ok2UFWSXa6k4SQ0&t=51e37521")
			)
		.exec(http("request_59")
			.get("/ScriptResource.axd?d=x6wALODbMJK5e0eRC_p1LTFBEqAduy6yzdGuAMP1dHrya3_IF2A8CsbaRF-ARwHq6m-SGT1rW_kEfDOVxpLiOwBwjQzZMYd6yIJvZ9ubgIyIzxTTWWPxLOJ6h2brQiXEeYW7vHWkdtbfdWvIHio91FSsDXmcUmI7kjdMETOH_XE1&t=51e37521")
			)
		.exec(http("request_60")
			.get(uri3 + "?family=Open+Sans:300,400,600,700")
			)
		.exec(http("request_61")
			.get(uri3 + "?family=Roboto:400,300,500,700")
			)
		.exec(http("request_62")
			.get("/works/request_lst.aspx?_TSM_CombinedScripts_=True&v=ZaMfZ6yYhPPHZ1NeEf8j6-t902-6pHpn2MehV0eep-I1&_TSM_Bundles_=&cdn=False")
			)
		.pause(150.milliseconds)
		.exec(http("request_63")
			.post("/verify_access.ashx")
			)
		.pause(376.milliseconds)
		.exec(http("request_64")
			.get("/Content/ESS/fonts/icomoon.ttf?5vru0d")
			)
		.exec(http("request_65")
			.get("/Notifications/GetNotificationCounts")
			)
		.exec(http("request_66")
			.get("/Notifications/ViewNotifications?type=e3HkjjZex3sqi6LDsZEHnxaYGpsbi+pZ3bqc1ffi/mRSK6o1BB6LtBplSTyHTVCTgt9BefUUJYHeMu+Xhs1UvQiDLt8+J4e1UGs9bd10guq0QY8E1mKLgjSczgI8xf7yQ1MtCIQB4zTSlUQiORykbP8EeH8r6ty403W2gDN0eLc=")
			)
		.pause(283.milliseconds)
		.exec(http("request_67")
			.get("/Notifications/GetNotificationsList?row=8")
			)
		.pause(3)
		.exec(http("Submit Logout Form")
			.post("/works/request_lst.aspx")

			.formParam("__EVENTTARGET", "ctl00$ctl00$ctl00$lbLogout")
			.formParam("__EVENTARGUMENT", "")
			.formParam("_TSM_HiddenField_", "ZaMfZ6yYhPPHZ1NeEf8j6-t902-6pHpn2MehV0eep-I1")
			.formParam("__VIEWSTATE", "viewStateCL")
			.formParam("__VIEWSTATEGENERATOR", "197FAB68")
			.formParam("ctl00$ctl00$ctl00$selCultureName", "")
			.formParam("ctl00$ctl00$ctl00$selCountry", "1")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$hfMode", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$hfStatus", "[P]")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$txtRequestID", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$selActionType", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$txtRequestorName", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$selRequestType", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$txtDateFrom", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$txtDateTo", "")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$txtStatus", "Pending")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$cntPlcHldrCriteria$cbStatus$0", "P")
			.formParam("ctl00$ctl00$ctl00$cntPlcHldrContent$cntPlcHldrContent$gvSearch$ctl12$gpCustomPager$txtPageSize", "50")
			.check(status.is(302)))
		.exec(http("request_69")
			.get("/Account/Login")
			)
		.exec(http("request_70")
			.get("/DXR.axd?r=1_17,0_2214,1_50,1_53,1_51,1_16,0_2219,0_2312,0_2317-O3Vxm")
			)
		.exec(http("request_71")
			.get("/Content/css?v=w9USDPGryprQSMA62T1giyRXrtqAIG-BphxyQY0Qw_w1")
			)
		.exec(http("request_72")
			.get("/bundles/jquery?v=_pxGe3mY2bQf-xjm4AiFp6ZjEyA5oTa8PuEQsuJbzEk1")
			)
		.exec(http("request_73")
			.get("/DXR.axd?r=1_303,1_210,1_184,1_220,1_187,1_181,1_279,1_292,1_208,1_216,1_212,1_189,1_222,17_42,1_297,1_215,1_207,1_289,1_205,17_7,1_287,1_211,17_23,1_197,17_1-N3Vxm")
			)
		.exec(http("request_74")
			.get("/DXR.axd?r=1_58-N3Vxm")
			)
		.pause(355.milliseconds)
		.exec(http("request_75")
			.get("/Content/Images/bg-login.jpg?V=03")
			)
		.exec(http("request_76")
			.get("/Content/fonts/icomoon.ttf?5vru0d")
			)
*/
	val debug = exec(session => {


		//val CFBody = session("CFBody").as[String]
		//println(s"Body : $CFBody")

		session
	})

	val scn = scenario("ESSEMPMyApplyClaimAttachFile").exec(
		chain_0, debug)

	setUp(scn.inject(atOnceUsers(1))).protocols(httpProtocol)
}